<!-- ?xml version='1.0' encoding='UTF-8'? -->
<link href="github-css.css" rel="stylesheet"/>
<meta charset="utf-8" content="text/html"/>
<div class="gist">
<style> .gist-file { max-width: 25cm; margin: 0 auto; } </style>
<style class="formula-style">
        svg.gh-md-to-html-formula {
            fill: black;
        }
    </style>
<div class="gist-file"> <!-- This is the class that is responsible for the boxing! -->
<div class="gist-data">
<div class="js-gist-file-update-container js-task-list-container file-box">
<div class="file" id="user-content-article-tempfile">
<div class="Box-body readme blob js-code-block-container p-5 p-xl-6" id="user-content-file-docker-image-pull-md-readme" style="margin-left: 40px; margin-right: 40px; margin-top: 20px; margin-bottom: 20px">
<article class="markdown-body entry-content container-lg" itemprop="text">
<div class="markdown-heading"><h1 class="heading-element">Apple II Double Hi-Res Graphics</h1><a aria-label="Permalink: Apple II Double Hi-Res Graphics" class="anchor" href="#user-content-apple-ii-double-hi-res-graphics" id="user-content-apple-ii-double-hi-res-graphics" name="user-content-apple-ii-double-hi-res-graphics"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>File types:</p>
<ul>
<li>BIN ($06) / any: uncompressed double hi-res image (16KB file)</li>
<li>FOT ($08) / $0000-3fff: uncompressed double hi-res image (16KB file)</li>
<li>FOT ($08) / $4001: compressed double hi-res image (PackBytes)</li>
</ul>
<p>Primary references:</p>
<ul>
<li>//e TN #3, "Double High-Resolution Graphics"</li>
<li>
<em>Apple IIgs Hardware Reference</em>, chapter 4</li>
<li>Apple II File Type Note $08/0000, "Apple II Graphics File"</li>
<li>Apple II File Type Note $08/4001, "Packed Apple II Double Hi-Res Graphics File"</li>
<li>IIgs TN #63, "Master Color Values"</li>
</ul>
<div class="markdown-heading"><h2 class="heading-element">Format</h2><a aria-label="Permalink: Format" class="anchor" href="#user-content-format" id="user-content-format" name="user-content-format"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Double hi-res graphics screens are generally stored as a 16KB file.  The first 8KB holds the
aux RAM portion, the second 8KB holds the main RAM portion.</p>
<p>The screen layout in memory and color generation is described in great detail in Apple //e
Technical Note #3.</p>
<p>Summary: the basic layout is similar to <a href="HiRes-notes.md">standard hi-res</a>, but pixel data is
byte-interleaved between main and auxiliary 8K pages.  Seven pixels of each byte contribute to
the image; the high bit of each byte is ignored.  The screen can be regarded as 560x192 in
black &amp; white, or 140x192 with 16 colors (4 bits) per pixel.</p>
<p>The colors are from the same palette as the lo-res graphics colors.</p>
<div class="markdown-heading"><h2 class="heading-element">Color Conversion</h2><a aria-label="Permalink: Color Conversion" class="anchor" href="#user-content-color-conversion" id="user-content-color-conversion" name="user-content-color-conversion"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Generating a 560x140 black &amp; white image is straightforward.</p>
<p>Color is more difficult.  The interference patterns caused by adjacent colors are difficult to
model accurately, especially given that RGB and composite outputs seem to be different.  A literal
translation that treats the screen as 140 pixels with 4-bit color values will be very different
from what real hardware displays.  A better approximation can be generated by emulating a sliding
4-bit window for 560 individual color pixels.</p>
<p>In any event, to maintain the original proportions, the output should be 560x384.  The Apple II
didn't have square pixels, but it's close enough.</p>
</article>
</div>
</div>
</div>
</div>
<div class="gist-meta">
<p><a href="../doc-index.html">Return to documentation index</a></p>
</div>
</div>
</div>
